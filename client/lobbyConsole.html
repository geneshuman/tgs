<template name="lobbyConsole">
  <div id="lobbyConsole">
    {{#if anyGames}}
    <div id="gamesList">
      <table>
	<tr>
	  <th>
	    Black
	  </th>
	  <th>
	    White
	  </th>
	  <th>
	    Board
	  </th>
	  <th>
	    Turn
	  </th>
	  <th>
	  </th>
	</tr>
	{{# each availableGames}}
	{{> gameSummary}}
	{{/each}}
      </table>
    </div>
    {{/if}}
    {{#if currentUser}}
    <br/>
    <button class="orangeButton" id="showNewGameButton" onclick="$(this).hide();$('#newGameDialog').show();">New Game</button>
    <div id="newGameDialog" style="display:none;">
      Board Type:
      <select id="selectBoard">
	{{# each boardTypes}}
	{{> boardType}}
	{{/each}}
      </select><br/><br/>
      <button id="newGameButton" class="orangeButton">Go!</button>
    </div>
    {{/if}}
  </div>
</template>

<template name="boardType">
  <option value="{{name}}">{{name}}</option>
</template>

<template name="gameSummary">
  <tr>
    <td class="hover" title="{{gameRecord _id 'black'}}">
      {{black}}
    </td>
    <td class="hover" title="{{gameRecord _id 'white'}}">
      {{white}}
    </td>
    <td>
      {{boardType}}
    </td>
    <td>
      {{moves}}
    </td>
    <td>
      {{#if available}}
      <a class="joinGame" href="javascript:void(0)" id="{{_id}}">
	Join
      </a>
      {{else}}
      <a class="observeGame" href="javascript:void(0)" id="{{_id}}">
	Observe
      </a>
      {{/if}}
    </td>
  </tr>
</template>
