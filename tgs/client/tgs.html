<head>
  <title>TGS - The Topological Go Server</title>
</head>

<body>
  {{> game}}
  {{> console}}
</body>

<template name="game">
  {{#constant}}
  <div id="container"></div>
  {{/constant}}
</template>

<template name="console">
  <div id="console">
    <div style="border-bottom:solid 1px black">
      <h2>TGS</h2>
    </div>

    {{#unless currentUser}}
    {{loginButtons}}
    {{/unless}}

    {{#unless currentGame}}
    <h3>Active Games</h3>

    {{#unless anyGames}}
    No Active Games<br/><br/>
    {{/unless}}

    {{# each games}}
    {{> gameSummary}}
    {{/each}}

    {{#if currentUser}}
    <button id="showNewGameButton" onclick="$(this).hide();$('#newGameDialog').show();">New Game</button>
    <div id="newGameDialog" style="display:none;">
      Board Type:
      <select id="selectBoard">
	{{# each boardTypes}}
	{{> boardType}}
	{{/each}}
      </select>
      <br/>
      <button id="newGameButton">Go!</button>
    </div>
    {{/if}}
    {{/unless}}
  </div>
</template>

<template name="boardType">
  <option value="{{name}}">{{name}}</option>
</template>

<template name="gameSummary">
<a class="joinGame" href="javascript:void(0)" id="{{_id}}">
  {{boardType}}
</a>
<br/>
</template>
